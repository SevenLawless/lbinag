<div class="admin-page">
  <div class="admin-header">
    <h1>Products</h1>
    <a href="/admin/products/new" class="btn btn-primary">+ Add Product</a>
  </div>
  
  {{#if success}}
  <div class="alert alert-success">{{success}}</div>
  {{/if}}
  
  {{#if error}}
  <div class="alert alert-error">{{error}}</div>
  {{/if}}
  
  {{#if products.length}}
  <table class="admin-table">
    <thead>
      <tr>
        <th>Image</th>
        <th>Name</th>
        <th>Color</th>
        <th>Price</th>
        <th>Stock</th>
        <th>Actions</th>
      </tr>
    </thead>
    <tbody>
      {{#each products}}
      <tr>
        <td class="image-cell">
          {{#if this.imageUrl}}
          <img src="{{this.imageUrl}}" alt="{{this.name}}" class="product-thumb">
          {{else}}
          <div class="no-image">No Image</div>
          {{/if}}
        </td>
        <td class="name-cell">{{this.name}}</td>
        <td>
          <span class="color-badge" style="background-color: {{this.color}};">{{this.color}}</span>
        </td>
        <td>{{this.price}} Dh</td>
        <td>
          {{#if this.inStock}}
          <span class="stock-badge in-stock">{{this.stockCount}} in stock</span>
          {{else}}
          <span class="stock-badge out-of-stock">Out of stock</span>
          {{/if}}
        </td>
        <td class="actions-cell">
          <a href="/admin/products/{{this._id}}/edit" class="btn btn-sm btn-outline">Edit</a>
          <form action="/admin/products/{{this._id}}/delete" method="POST" style="display: inline;" onsubmit="return confirm('Delete this product?');">
            <button type="submit" class="btn btn-sm btn-danger">Delete</button>
          </form>
        </td>
      </tr>
      {{/each}}
    </tbody>
  </table>
  {{else}}
  <div class="empty-state">
    <p>No products yet.</p>
    <a href="/admin/products/new" class="btn btn-primary">Add Your First Product</a>
  </div>
  {{/if}}
</div>
